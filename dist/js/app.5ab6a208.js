(function(){"use strict";var e={4511:function(e,i,t){var o=t(9242),n=t(3396);const r=(0,n._)("header",null,[(0,n._)("nav",{class:"navbar navbar-expand-md navbar-dark fixed-top bg-dark",id:"mainHeader"},[(0,n._)("div",{class:"container-fluid"},[(0,n._)("h3",null,"Administración de Beneficiario")])])],-1),a={class:"flex-shrink-0"},s=(0,n._)("div",{class:"sidebar"},null,-1),l={class:"container"},c={class:"row"},u={class:"col-md-4"},d={class:"col-md-6"};function f(e,i,t,o,f,h){const m=(0,n.up)("ListBeneficiarios"),p=(0,n.up)("FormBeneficiario");return(0,n.wg)(),(0,n.iD)(n.HY,null,[r,(0,n._)("main",a,[s,(0,n._)("div",l,[(0,n._)("div",c,[(0,n._)("div",u,[(0,n.Wm)(m,{title:"Todos los Beneficiarios",ref:"listComponent",onSelectBeneficiario:h.selectedBeneficiario,onNewBeneficiario:h.newBeneficiario},null,8,["onSelectBeneficiario","onNewBeneficiario"])]),(0,n._)("div",d,[(0,n.Wm)(p,{title:"Beneficiario",ref:"formComponent",onRefreshList:h.updateList},null,8,["onRefreshList"])])])])])],64)}var h=t(7139);const m=(0,n._)("input",{type:"text",class:"form-control",id:"busqueda",name:"busqueda",placeholder:"Buscar..."},null,-1),p={class:"list-group"},b=["onClick"],v={class:"d-flex w-100 justify-content-between"},w={class:"mb-1"},y=(0,n._)("small",{class:"text-muted"},"Beneficiario",-1);function g(e,i,t,o,r,a){return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("h3",null,(0,h.zw)(t.title),1),(0,n.Uk)(),e.isCreate?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("button",{key:0,type:"submit",class:(0,h.C_)("btn btn-primary"),onClick:i[0]||(i[0]=e=>a.nuevoBeneficiario())},"Nuevo")),m,(0,n._)("div",p,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.arrayBeneficiarios,((e,i)=>((0,n.wg)(),(0,n.iD)("a",{key:i,onClick:i=>a.selectBeneficiario(e.id),href:"#",class:"list-group-item list-group-item-action flex-column align-items-start"},[(0,n._)("div",v,[(0,n._)("h5",w,(0,h.zw)(e.fullName),1),y])],8,b)))),128))])])}var C=t(70);class B{constructor(){}getAll(e){const i=C.ZP.get(e,{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json","Access-Control-Allow-Headers":"*","Access-Control-Allow-Methods":"*"}}).then((e=>e)).catch((e=>(console.error("Error",e.response),e)));return i}get(e,i){const t=C.ZP.get(`${e}/${i}`,{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json","Access-Control-Allow-Headers":"*","Access-Control-Allow-Methods":"*"}}).then((e=>e)).catch((e=>(console.error("Error get",e.response),e)));return t}post(e,i){const t=C.ZP.post(e,i,{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json","Access-Control-Allow-Headers":"*","Access-Control-Allow-Methods":"*"}}).then((e=>e)).catch((e=>(console.error("Error post",e.response),e)));return t}patch(e,i,t){const o=C.ZP.patch(`${e}/${i}`,t,{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json","Access-Control-Allow-Headers":"*","Access-Control-Allow-Methods":"*"}}).then((async e=>(console.log(e),e))).catch((async e=>(console.error("Error patch",e.response),e)));return o}delete(e,i){const t=C.ZP["delete"](`${e}/${encodeURIComponent(i)}`,{headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json","Access-Control-Allow-Headers":"*","Access-Control-Allow-Methods":"*"}}).then((async e=>(console.log("response delete",e),e))).catch((async e=>(console.error("Error delete",e.response),e)));return t}}var _=new B,A={name:"ListBeneficiarios",props:{title:String},data(){return{arrayBeneficiarios:Array}},created(){this.listarBeneficiarios()},methods:{async listarBeneficiarios(){let e="http://localhost:8080/beneficiario",i=await _.getAll(e);this.arrayBeneficiarios=i.data,console.log(i)},async selectBeneficiario(e){console.log(e),this.$emit("selectBeneficiario",e)},async nuevoBeneficiario(){this.$emit("newBeneficiario")}}},k=t(89);const N=(0,k.Z)(A,[["render",g]]);var M=N;const O={key:0,class:"centered"},x=(0,n._)("h2",null,"Ningún beneficiario seleccionado",-1),$=[x],j={key:1,class:"row"},E={class:"col-md-8"},F={class:"col-md-4"},D=(0,n._)("div",{class:"col-md-4"},[(0,n._)("div",{class:"circle"})],-1),L={class:"col-md-8"},T=(0,n._)("label",{for:"fullName"},[(0,n.Uk)("Nombre Completo"),(0,n._)("span",null,"*")],-1),U=(0,n._)("label",{for:"cardNumber"},[(0,n.Uk)("No. De Tarjeta"),(0,n._)("span",null,"*")],-1),q=(0,n._)("label",{for:"balance"},[(0,n.Uk)("Saldo"),(0,n._)("span",null,"*")],-1);function H(e,i,t,r,a,s){return a.isEmpty?((0,n.wg)(),(0,n.iD)("div",O,$)):((0,n.wg)(),(0,n.iD)("div",j,[(0,n._)("div",E,[(0,n._)("small",null,(0,h.zw)(t.title),1),(0,n.Uk)(),(0,n._)("h3",null,(0,h.zw)(a.status),1)]),(0,n._)("div",F,[a.isCreate?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("button",{key:0,type:"submit",class:(0,h.C_)("btn btn-danger"),onClick:i[0]||(i[0]=e=>s.deleteBeneficiario(a.beneficiarioModel.id))},"Eliminar")),a.isCreate?((0,n.wg)(),(0,n.iD)("button",{key:1,type:"submit",class:(0,h.C_)("btn btn-warning"),onClick:i[1]||(i[1]=e=>s.hideForm())},"Cancelar")):(0,n.kq)("",!0)]),D,(0,n._)("div",L,[(0,n._)("form",{onSubmit:i[6]||(i[6]=(0,o.iM)(((...e)=>s.submit&&s.submit(...e)),["prevent"]))},[(0,n._)("div",null,[T,(0,n.wy)((0,n._)("input",{type:"text",class:"form-control",id:"fullName",name:"fullName","onUpdate:modelValue":i[2]||(i[2]=e=>a.beneficiarioModel.fullName=e),required:"true"},null,512),[[o.nr,a.beneficiarioModel.fullName]]),U,(0,n.wy)((0,n._)("input",{type:"number",class:"form-control",id:"cardNumber",name:"cardNumber","onUpdate:modelValue":i[3]||(i[3]=e=>a.beneficiarioModel.cardNumber=e),required:"true"},null,512),[[o.nr,a.beneficiarioModel.cardNumber]]),q,(0,n.wy)((0,n._)("input",{type:"number",class:"form-control",id:"balance",name:"balance","onUpdate:modelValue":i[4]||(i[4]=e=>a.beneficiarioModel.balance=e),required:"false"},null,512),[[o.nr,a.beneficiarioModel.balance]])]),(0,n._)("button",{type:"submit",class:(0,h.C_)("btn btn-success"),onClick:i[5]||(i[5]=(...i)=>e.validate&&e.validate(...i))},(0,h.zw)(a.textBtn),1)],32)])]))}var Z={name:"FormBeneficiario",props:{title:String},data(){return{isEmpty:!0,isCreate:!0,status:"Nuevo",textBtn:"Guardar",arrayBeneficiario:Array,beneficiarioModel:{id:"",fullName:"",cardNumber:"",balance:""}}},created(){console.log(this.isCreate,this.idSelected)},methods:{submit(e){let i=new FormData(e.target),t=Object.fromEntries(i);console.log(t),this.isCreate?this.saveBeneficiario(t):this.updateBeneficiario(t)},async saveBeneficiario(e){let i="http://localhost:8080/beneficiario",t=await _.post(i,e);this.arrayBeneficiario=t.data,this.clearForm(),console.log(t),this.$emit("refreshList")},async updateBeneficiario(e){let i=`http://localhost:8080/beneficiario/${this.beneficiarioModel.id}`,t=await _.post(i,e);this.clearForm(),console.log(t),this.$emit("refreshList")},async detailBeneficiario(e){let i="http://localhost:8080/beneficiario",t=await _.get(i,e);console.log(t.data);let o=t.data;this.beneficiarioModel.id=o.id,this.beneficiarioModel.fullName=o.fullName,this.beneficiarioModel.cardNumber=o.cardNumber,this.beneficiarioModel.balance=o.balance,this.isCreate=!1,this.status="Editar",this.textBtn="Actualizar",this.isEmpty=!1},async deleteBeneficiario(e){let i="http://localhost:8080/beneficiario",t=await _["delete"](i,e);this.hideForm(),this.isCreate=!0,this.status="Nuevo",console.log(t),this.$emit("refreshList")},async clearForm(){this.isEmpty=!1,this.isCreate=!0,this.status="Nuevo",this.textBtn="Guardar",this.beneficiarioModel.id="",this.beneficiarioModel.fullName="",this.beneficiarioModel.cardNumber="",this.beneficiarioModel.balance=""},async hideForm(){this.isEmpty=!0}}};const P=(0,k.Z)(Z,[["render",H]]);var S=P,z={name:"App",components:{ListBeneficiarios:M,FormBeneficiario:S},data(){return{}},created(){this.listarBeneficiarios()},methods:{async listarBeneficiarios(){let e="http://localhost:8080/beneficiario",i=await _.getAll(e);console.log(i)},selectedBeneficiario(e){this.$refs.formComponent.detailBeneficiario(e)},updateList(){this.$refs.listComponent.listarBeneficiarios()},newBeneficiario(){this.$refs.formComponent.clearForm()}}};const R=(0,k.Z)(z,[["render",f]]);var V=R;(0,o.ri)(V).mount("#app")}},i={};function t(o){var n=i[o];if(void 0!==n)return n.exports;var r=i[o]={exports:{}};return e[o](r,r.exports,t),r.exports}t.m=e,function(){var e=[];t.O=function(i,o,n,r){if(!o){var a=1/0;for(u=0;u<e.length;u++){o=e[u][0],n=e[u][1],r=e[u][2];for(var s=!0,l=0;l<o.length;l++)(!1&r||a>=r)&&Object.keys(t.O).every((function(e){return t.O[e](o[l])}))?o.splice(l--,1):(s=!1,r<a&&(a=r));if(s){e.splice(u--,1);var c=n();void 0!==c&&(i=c)}}return i}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[o,n,r]}}(),function(){t.n=function(e){var i=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(i,{a:i}),i}}(),function(){t.d=function(e,i){for(var o in i)t.o(i,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:i[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)}}(),function(){var e={143:0};t.O.j=function(i){return 0===e[i]};var i=function(i,o){var n,r,a=o[0],s=o[1],l=o[2],c=0;if(a.some((function(i){return 0!==e[i]}))){for(n in s)t.o(s,n)&&(t.m[n]=s[n]);if(l)var u=l(t)}for(i&&i(o);c<a.length;c++)r=a[c],t.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return t.O(u)},o=self["webpackChunkbeneficiarios"]=self["webpackChunkbeneficiarios"]||[];o.forEach(i.bind(null,0)),o.push=i.bind(null,o.push.bind(o))}();var o=t.O(void 0,[998],(function(){return t(4511)}));o=t.O(o)})();
//# sourceMappingURL=app.5ab6a208.js.map